module.exports=[87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},62213,a=>{"use strict";let b=(0,a.i(70106).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["default",()=>b])},34157,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["default",()=>b])},23312,a=>{"use strict";let b=(0,a.i(70106).default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);a.s(["Bell",()=>b],23312)},5324,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(69240),f=a.i(40695),g=a.i(34157),g=g;function h({alertId:a}){let[h,i]=(0,c.useState)(!1),j=(0,d.useRouter)();async function k(){i(!0);let b=(0,e.createClient)(),{error:c}=await b.from("alerts").update({is_read:!0}).eq("id",a);i(!1),c||j.refresh()}return(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:k,disabled:h,title:"Marcar como leída",children:(0,b.jsx)(g.default,{className:"h-4 w-4"})})}a.s(["MarkAsReadButton",()=>h],5324)},15712,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(69240),f=a.i(40695),g=a.i(62213),g=g;function h({alertId:a}){let[h,i]=(0,c.useState)(!1),j=(0,d.useRouter)();async function k(){i(!0);let b=(0,e.createClient)(),{error:c}=await b.from("alerts").delete().eq("id",a);i(!1),c||j.refresh()}return(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:k,disabled:h,title:"Eliminar alerta",className:"text-destructive hover:text-destructive",children:(0,b.jsx)(g.default,{className:"h-4 w-4"})})}a.s(["DeleteAlertButton",()=>h],15712)},60425,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(69240),f=a.i(40695),g=a.i(23312),h=a.i(96221);function i(){let[a,i]=(0,c.useState)(!1),j=(0,d.useRouter)();async function k(){i(!0);let a=(0,e.createClient)(),{data:b}=await a.from("projects").select("*").in("status",["planning","in_progress","review"]);if(b){let c=new Date;for(let d of(c.setHours(0,0,0,0),b)){let b=new Date(d.due_date);b.setHours(0,0,0,0);let e=Math.ceil((b.getTime()-c.getTime())/864e5),{data:f}=await a.from("alerts").select("*").eq("project_id",d.id).gte("created_at",new Date(Date.now()-864e5).toISOString());if(f&&f.length>0)continue;let g=null,h="";e<0?(g="overdue",h=`El proyecto "${d.name}" est\xe1 vencido desde hace ${Math.abs(e)} d\xedas`):e<=3&&(g="deadline_approaching",h=`El proyecto "${d.name}" vence en ${e} ${1===e?"día":"días"}`),g&&await a.from("alerts").insert({project_id:d.id,alert_type:g,message:h,is_read:!1})}}i(!1),j.refresh()}return(0,b.jsxs)(f.Button,{onClick:k,disabled:a,children:[a?(0,b.jsx)(h.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,b.jsx)(g.Bell,{className:"mr-2 h-4 w-4"}),a?"Generando...":"Generar Alertas"]})}a.s(["GenerateAlertsButton",()=>i])}];

//# sourceMappingURL=_3c8bd96f._.js.map