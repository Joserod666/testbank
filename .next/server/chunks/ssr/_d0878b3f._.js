module.exports=[70875,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ProjectsTable() from the server but ProjectsTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/projects-table.tsx <module evaluation>","ProjectsTable");a.s(["ProjectsTable",0,b])},61347,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ProjectsTable() from the server but ProjectsTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/projects-table.tsx","ProjectsTable");a.s(["ProjectsTable",0,b])},37027,a=>{"use strict";a.i(70875);var b=a.i(61347);a.n(b)},76426,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AlertNotification() from the server but AlertNotification is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/alerts/alert-notification.tsx <module evaluation>","AlertNotification");a.s(["AlertNotification",0,b])},93947,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AlertNotification() from the server but AlertNotification is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/alerts/alert-notification.tsx","AlertNotification");a.s(["AlertNotification",0,b])},68285,a=>{"use strict";a.i(76426);var b=a.i(93947);a.n(b)},50708,a=>{"use strict";var b=a.i(7997),c=a.i(717),d=a.i(98310),e=a.i(29171),f=a.i(1269);let g=(0,f.default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),h=(0,f.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var i=a.i(56603);let j=(0,f.default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);async function k(){let a=await (0,d.createClient)(),[{count:c},{count:f},{count:k},{count:l}]=await Promise.all([a.from("projects").select("*",{count:"exact",head:!0}),a.from("projects").select("*",{count:"exact",head:!0}).in("status",["in_progress","review"]),a.from("clients").select("*",{count:"exact",head:!0}),a.from("projects").select("*",{count:"exact",head:!0}).eq("status","completed")]),m=[{title:"Proyectos Totales",value:c||0,icon:g,description:"Todos los proyectos",gradient:"from-blue-500 to-cyan-500",iconBg:"bg-blue-500/10",iconColor:"text-blue-600 dark:text-blue-400"},{title:"En Progreso",value:f||0,icon:i.Clock,description:"Proyectos activos",gradient:"from-purple-500 to-pink-500",iconBg:"bg-purple-500/10",iconColor:"text-purple-600 dark:text-purple-400"},{title:"Clientes",value:k||0,icon:h,description:"Total de clientes",gradient:"from-emerald-500 to-teal-500",iconBg:"bg-emerald-500/10",iconColor:"text-emerald-600 dark:text-emerald-400"},{title:"Completados",value:l||0,icon:j,description:"Proyectos finalizados",gradient:"from-amber-500 to-orange-500",iconBg:"bg-amber-500/10",iconColor:"text-amber-600 dark:text-amber-400"}];return(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:m.map(a=>(0,b.jsxs)(e.Card,{className:"border-0 shadow-md bg-gradient-to-br from-card to-card/50 transition-all duration-300 hover:shadow-lg",children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-semibold",children:a.title}),(0,b.jsx)("div",{className:`p-2.5 rounded-xl ${a.iconBg}`,children:(0,b.jsx)(a.icon,{className:`h-5 w-5 ${a.iconColor}`})})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:`text-3xl font-bold bg-gradient-to-r ${a.gradient} bg-clip-text text-transparent`,children:a.value}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.description})]})]},a.title))})}var l=a.i(40088),m=a.i(95936);let n=(0,f.default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),o={pending:"bg-gradient-to-r from-slate-500 to-slate-600",in_progress:"bg-gradient-to-r from-blue-500 to-cyan-500",completed:"bg-gradient-to-r from-emerald-500 to-teal-500",delayed:"bg-gradient-to-r from-red-500 to-red-600"},p={pending:"Pendiente",in_progress:"En Progreso",completed:"Completado",delayed:"Retrasado"};async function q(){let a=await (0,d.createClient)(),{data:c}=await a.from("projects").select("*, clients(name)").in("status",["in_progress","pending","delayed"]).order("due_date",{ascending:!0}).limit(5);return(0,b.jsxs)(e.Card,{className:"border-0 shadow-md overflow-hidden",children:[(0,b.jsx)("div",{className:"h-1 w-full bg-gradient-to-r from-primary via-accent to-primary"}),(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-2xl",children:""}),"Proyectos Activos"]}),(0,b.jsx)(e.CardDescription,{children:"Tus proyectos en curso y pr贸ximos"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"space-y-3",children:c&&c.length>0?c.map(a=>(0,b.jsxs)("div",{className:"group relative overflow-hidden rounded-xl border bg-gradient-to-br from-card to-card/50 p-4 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-accent/5 opacity-0 group-hover:opacity-100 transition-opacity",style:{width:`${a.completion_percentage}%`}}),(0,b.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h4",{className:"font-semibold leading-none",children:a.name}),(0,b.jsx)(l.Badge,{variant:"secondary",className:"text-xs",children:p[a.status]})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-primary"}),a.clients.name]})]}),(0,b.jsxs)("div",{className:"text-right space-y-1",children:[(0,b.jsxs)("div",{className:"text-lg font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:[a.completion_percentage,"%"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(a.due_date).toLocaleDateString("es-ES",{month:"short",day:"numeric"})})]})]}),(0,b.jsx)("div",{className:"mt-3 h-1.5 w-full bg-secondary rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full rounded-full transition-all duration-500 ${o[a.status]}`,style:{width:`${a.completion_percentage}%`}})})]},a.id)):(0,b.jsx)("p",{className:"text-center text-sm text-muted-foreground py-8",children:"No hay proyectos activos"})}),c&&c.length>0&&(0,b.jsxs)(m.default,{href:"/projects",className:"mt-6 flex items-center justify-center gap-2 text-sm font-medium text-primary hover:text-accent transition-colors group",children:["Ver todos los proyectos",(0,b.jsx)(n,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})]})]})}var r=a.i(21679),s=a.i(28407),t=a.i(68131);let u={deadline_approaching:i.Clock,overdue:r.AlertCircle,status_change:t.Info,custom:s.AlertTriangle},v={deadline_approaching:"text-amber-500",overdue:"text-red-500",status_change:"text-blue-500",custom:"text-purple-500"};async function w(){let a=await (0,d.createClient)(),{data:c}=await a.from("alerts").select("*, projects(name)").eq("is_read",!1).order("created_at",{ascending:!1}).limit(5);return(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Alertas Recientes"}),(0,b.jsx)(e.CardDescription,{children:"Notificaciones y recordatorios importantes"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"space-y-4",children:c&&c.length>0?c.map(a=>{let c=u[a.alert_type];return(0,b.jsxs)("div",{className:"flex gap-3 rounded-lg border p-3",children:[(0,b.jsx)(c,{className:`h-5 w-5 flex-shrink-0 ${v[a.alert_type]}`}),(0,b.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,b.jsx)("p",{className:"text-sm leading-snug",children:a.message}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(a.created_at).toLocaleDateString("es-ES",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},a.id)}):(0,b.jsx)("p",{className:"text-center text-sm text-muted-foreground py-8",children:"No hay alertas pendientes"})}),c&&c.length>0&&(0,b.jsx)(m.default,{href:"/alerts",className:"mt-4 block text-center text-sm text-primary hover:underline",children:"Ver todas las alertas"})]})]})}var x=a.i(58363);let y={low:"bg-slate-100 text-slate-700 border-slate-200",medium:"bg-blue-100 text-blue-700 border-blue-200",high:"bg-amber-100 text-amber-700 border-amber-200",urgent:"bg-red-100 text-red-700 border-red-200"},z={low:"Baja",medium:"Media",high:"Alta",urgent:"Urgente"};async function A(){let a=await (0,d.createClient)(),c=new Date().toISOString().split("T")[0],f=new Date(Date.now()+12096e5).toISOString().split("T")[0],{data:g}=await a.from("projects").select("*, clients(name)").gte("due_date",c).lte("due_date",f).in("status",["planning","in_progress","review"]).order("due_date",{ascending:!0});return(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Pr贸ximos Vencimientos"}),(0,b.jsx)(e.CardDescription,{children:"Proyectos que vencen en los pr贸ximos 14 d铆as"})]}),(0,b.jsx)(e.CardContent,{children:g&&g.length>0?(0,b.jsx)("div",{className:"space-y-3",children:g.map(a=>{let c=(0,x.getDaysUntil)(a.due_date),d=(0,x.getDateStatus)(a.due_date);return(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h4",{className:"font-medium",children:a.name}),(0,b.jsx)(l.Badge,{variant:"outline",className:y[a.priority],children:z[a.priority]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.clients.name})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:`text-sm font-medium ${"overdue"===d?"text-red-600":"urgent"===d?"text-amber-600":"text-foreground"}`,children:0===c?"Hoy":1===c?"Ma帽ana":`${c} d\xedas`}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(a.due_date).toLocaleDateString("es-ES",{month:"short",day:"numeric"})})]})]},a.id)})}):(0,b.jsx)("p",{className:"text-center text-sm text-muted-foreground py-8",children:"No hay proyectos pr贸ximos a vencer"})})]})}var B=a.i(37027);async function C(){let a=await (0,d.createClient)(),[c,e]=await Promise.all([a.from("projects").select("*, clients(*)").order("due_date",{ascending:!0}),a.from("clients").select("*").order("name")]),f=c.data||[],g=e.data||[];return(0,b.jsx)(B.ProjectsTable,{initialProjects:f,initialClients:g})}var D=a.i(68285),E=a.i(77357);function F(){return(0,b.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,b.jsx)("header",{className:"sticky top-0 z-50 border-b glass-effect",children:(0,b.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl gradient-primary shadow-lg shadow-primary/20",children:(0,b.jsx)("svg",{className:"h-6 w-6 text-primary-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Freelance Manager"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Gesti贸n profesional"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("nav",{className:"flex items-center gap-1",children:[(0,b.jsx)("a",{href:"/",className:"relative px-4 py-2 text-sm font-medium text-primary before:absolute before:bottom-0 before:left-0 before:right-0 before:h-0.5 before:gradient-primary before:rounded-full",children:"Dashboard"}),(0,b.jsx)(m.default,{href:"/clients",className:"px-4 py-2 text-sm font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-accent/10 rounded-lg",children:"Clientes"}),(0,b.jsx)(m.default,{href:"/projects",className:"px-4 py-2 text-sm font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-accent/10 rounded-lg",children:"Proyectos"}),(0,b.jsx)(m.default,{href:"/timeline",className:"px-4 py-2 text-sm font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-accent/10 rounded-lg",children:"Timeline"})]}),(0,b.jsx)(D.AlertNotification,{})]})]})}),(0,b.jsxs)("main",{className:"container flex-1 px-4 py-8 relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5 pointer-events-none"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Resumen general de tus proyectos y clientes"})]}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(G,{}),children:(0,b.jsx)(k,{})}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(H,{}),children:(0,b.jsx)(q,{})}),(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(H,{}),children:(0,b.jsx)(w,{})})]}),(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(H,{}),children:(0,b.jsx)(A,{})}),(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(H,{}),children:(0,b.jsx)(C,{})})]})]})]})]})}function G(){return(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(a=>(0,b.jsx)(E.Skeleton,{className:"h-32"},a))})}function H(){return(0,b.jsx)(E.Skeleton,{className:"h-96"})}a.s(["default",()=>F],50708)}];

//# sourceMappingURL=_d0878b3f._.js.map