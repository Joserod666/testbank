module.exports=[2150,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50104),e=a.i(30553),f="Progress",[g,h]=(0,d.createContextScope)(f),[i,j]=g(f),k=c.forwardRef((a,c)=>{var d,f;let{__scopeProgress:g,value:h=null,max:j,getValueLabel:k=n,...l}=a;(j||0===j)&&!q(j)&&console.error((d=`${j}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=q(j)?j:100;null===h||r(h,m)||console.error((f=`${h}`,`Invalid prop \`value\` of value \`${f}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let s=r(h,m)?h:null,t=p(s)?k(s,m):void 0;return(0,b.jsx)(i,{scope:g,value:s,max:m,children:(0,b.jsx)(e.Primitive.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":p(s)?s:void 0,"aria-valuetext":t,role:"progressbar","data-state":o(s,m),"data-value":s??void 0,"data-max":m,...l,ref:c})})});k.displayName=f;var l="ProgressIndicator",m=c.forwardRef((a,c)=>{let{__scopeProgress:d,...f}=a,g=j(l,d);return(0,b.jsx)(e.Primitive.div,{"data-state":o(g.value,g.max),"data-value":g.value??void 0,"data-max":g.max,...f,ref:c})});function n(a,b){return`${Math.round(a/b*100)}%`}function o(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function p(a){return"number"==typeof a}function q(a){return p(a)&&!isNaN(a)&&a>0}function r(a,b){return p(a)&&!isNaN(a)&&a<=b&&a>=0}m.displayName=l;var s=a.i(97895);function t({className:a,value:c,...d}){return(0,b.jsx)(k,{"data-slot":"progress",className:(0,s.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...d,children:(0,b.jsx)(m,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})})}a.s(["Progress",()=>t],2150)},83e3,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(69240),f=a.i(65733),g=a.i(40695),h=a.i(5522),i=a.i(17171),j=a.i(46893),k=a.i(87682),l=a.i(99464);function m({project:a}){let[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)([]),s=(0,d.useRouter)();async function t(b){b.preventDefault(),p(!0);let c=new FormData(b.currentTarget),d=(0,e.createClient)(),{error:f}=await d.from("projects").update({client_id:c.get("client_id"),name:c.get("name"),description:c.get("description")||null,status:c.get("status"),priority:c.get("priority"),start_date:c.get("start_date"),due_date:c.get("due_date"),completion_percentage:Number.parseInt(c.get("completion_percentage"),10),budget:c.get("budget")?Number.parseFloat(c.get("budget")):null}).eq("id",a.id);p(!1),f?(console.error("Error al actualizar proyecto:",f),alert(`Error al actualizar proyecto: ${f.message}`)):(n(!1),s.refresh())}return(0,c.useEffect)(()=>{m&&(0,e.createClient)().from("clients").select("*").order("name").then(({data:a})=>{a&&r(a)})},[m]),(0,b.jsxs)(f.Dialog,{open:m,onOpenChange:n,children:[(0,b.jsx)(f.DialogTrigger,{asChild:!0,children:(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(l.Pencil,{className:"h-4 w-4"})})}),(0,b.jsxs)(f.DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsx)(f.DialogTitle,{children:"Editar Proyecto"}),(0,b.jsx)(f.DialogDescription,{children:"Actualiza la información del proyecto"})]}),(0,b.jsxs)("form",{onSubmit:t,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"name",children:"Nombre del Proyecto *"}),(0,b.jsx)(h.Input,{id:"name",name:"name",required:!0,defaultValue:a.name})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"client_id",children:"Cliente *"}),(0,b.jsxs)(k.Select,{name:"client_id",required:!0,defaultValue:a.client_id,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsx)(k.SelectContent,{children:q.map(a=>(0,b.jsxs)(k.SelectItem,{value:a.id,children:[a.name,a.company&&` - ${a.company}`]},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"description",children:"Descripción"}),(0,b.jsx)(j.Textarea,{id:"description",name:"description",defaultValue:a.description||"",placeholder:"Describe el proyecto...",rows:3})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"status",children:"Estado *"}),(0,b.jsxs)(k.Select,{name:"status",defaultValue:a.status,required:!0,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"pending",children:"Pendiente"}),(0,b.jsx)(k.SelectItem,{value:"in_progress",children:"En Progreso"}),(0,b.jsx)(k.SelectItem,{value:"completed",children:"Completado"}),(0,b.jsx)(k.SelectItem,{value:"delayed",children:"Retrasado"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"priority",children:"Prioridad *"}),(0,b.jsxs)(k.Select,{name:"priority",defaultValue:a.priority,required:!0,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"low",children:"Baja"}),(0,b.jsx)(k.SelectItem,{value:"medium",children:"Media"}),(0,b.jsx)(k.SelectItem,{value:"high",children:"Alta"}),(0,b.jsx)(k.SelectItem,{value:"urgent",children:"Urgente"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"completion_percentage",children:"Porcentaje de Completado"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(h.Input,{id:"completion_percentage",name:"completion_percentage",type:"range",min:"0",max:"100",defaultValue:a.completion_percentage,className:"flex-1"}),(0,b.jsxs)("span",{className:"text-sm font-medium w-12",children:[a.completion_percentage,"%"]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"start_date",children:"Fecha de Inicio *"}),(0,b.jsx)(h.Input,{id:"start_date",name:"start_date",type:"date",required:!0,defaultValue:a.start_date})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"due_date",children:"Fecha de Vencimiento *"}),(0,b.jsx)(h.Input,{id:"due_date",name:"due_date",type:"date",required:!0,defaultValue:a.due_date})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"budget",children:"Presupuesto Estimado (USD)"}),(0,b.jsx)(h.Input,{id:"budget",name:"budget",type:"number",step:"0.01",defaultValue:a.budget||"",placeholder:"0.00"})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),(0,b.jsx)(g.Button,{type:"submit",disabled:o,children:o?"Guardando...":"Guardar Cambios"})]})]})]})]})}a.s(["EditProjectDialog",()=>m])},69324,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(69240),f=a.i(5094),g=a.i(40695),h=a.i(81560);function i({projectId:a,projectName:i}){let[j,k]=(0,c.useState)(!1),l=(0,d.useRouter)();async function m(){k(!0);let b=(0,e.createClient)(),{error:c}=await b.from("projects").delete().eq("id",a);k(!1),c?(console.error("Error al eliminar proyecto:",c),alert(`Error al eliminar proyecto: ${c.message}`)):l.refresh()}return(0,b.jsxs)(f.AlertDialog,{children:[(0,b.jsx)(f.AlertDialogTrigger,{asChild:!0,children:(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",children:(0,b.jsx)(h.Trash2,{className:"h-4 w-4"})})}),(0,b.jsxs)(f.AlertDialogContent,{children:[(0,b.jsxs)(f.AlertDialogHeader,{children:[(0,b.jsx)(f.AlertDialogTitle,{children:"¿Estás seguro?"}),(0,b.jsxs)(f.AlertDialogDescription,{children:["Esta acción eliminará permanentemente el proyecto ",(0,b.jsx)("strong",{children:i}),". Esta acción no se puede deshacer."]})]}),(0,b.jsxs)(f.AlertDialogFooter,{children:[(0,b.jsx)(f.AlertDialogCancel,{children:"Cancelar"}),(0,b.jsx)(f.AlertDialogAction,{onClick:m,disabled:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:j?"Eliminando...":"Eliminar"})]})]})]})}a.s(["DeleteProjectDialog",()=>i])},35090,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(69240),f=a.i(65733),g=a.i(40695),h=a.i(5522),i=a.i(17171),j=a.i(46893),k=a.i(87682);function l({children:a}){let[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)([]),r=(0,d.useRouter)();async function s(a){a.preventDefault(),o(!0);let b=new FormData(a.currentTarget),c=(0,e.createClient)(),{error:d}=await c.from("projects").insert({client_id:b.get("client_id"),name:b.get("name"),description:b.get("description")||null,status:b.get("status"),priority:b.get("priority"),start_date:b.get("start_date"),due_date:b.get("due_date"),completion_percentage:0,budget:b.get("budget")?Number.parseFloat(b.get("budget")):null});o(!1),d?(console.error("Error al crear proyecto:",d),alert(`Error al crear proyecto: ${d.message}`)):(m(!1),r.refresh())}return(0,c.useEffect)(()=>{l&&(0,e.createClient)().from("clients").select("*").order("name").then(({data:a})=>{a&&q(a)})},[l]),(0,b.jsxs)(f.Dialog,{open:l,onOpenChange:m,children:[(0,b.jsx)(f.DialogTrigger,{asChild:!0,children:a}),(0,b.jsxs)(f.DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsx)(f.DialogTitle,{children:"Nuevo Proyecto"}),(0,b.jsx)(f.DialogDescription,{children:"Crea un nuevo proyecto para gestionar"})]}),(0,b.jsxs)("form",{onSubmit:s,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"name",children:"Nombre del Proyecto *"}),(0,b.jsx)(h.Input,{id:"name",name:"name",required:!0,placeholder:"Ej: Desarrollo de Landing Page"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"client_id",children:"Cliente *"}),(0,b.jsxs)(k.Select,{name:"client_id",required:!0,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Selecciona un cliente"})}),(0,b.jsx)(k.SelectContent,{children:p.map(a=>(0,b.jsxs)(k.SelectItem,{value:a.id,children:[a.name,a.company&&` - ${a.company}`]},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"description",children:"Descripción"}),(0,b.jsx)(j.Textarea,{id:"description",name:"description",placeholder:"Describe el proyecto...",rows:3})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"status",children:"Estado *"}),(0,b.jsxs)(k.Select,{name:"status",defaultValue:"pending",required:!0,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"pending",children:"Pendiente"}),(0,b.jsx)(k.SelectItem,{value:"in_progress",children:"En Progreso"}),(0,b.jsx)(k.SelectItem,{value:"completed",children:"Completado"}),(0,b.jsx)(k.SelectItem,{value:"delayed",children:"Retrasado"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"priority",children:"Prioridad *"}),(0,b.jsxs)(k.Select,{name:"priority",defaultValue:"medium",required:!0,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"low",children:"Baja"}),(0,b.jsx)(k.SelectItem,{value:"medium",children:"Media"}),(0,b.jsx)(k.SelectItem,{value:"high",children:"Alta"}),(0,b.jsx)(k.SelectItem,{value:"urgent",children:"Urgente"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"start_date",children:"Fecha de Inicio *"}),(0,b.jsx)(h.Input,{id:"start_date",name:"start_date",type:"date",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"due_date",children:"Fecha de Vencimiento *"}),(0,b.jsx)(h.Input,{id:"due_date",name:"due_date",type:"date",required:!0})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"budget",children:"Presupuesto Estimado (USD)"}),(0,b.jsx)(h.Input,{id:"budget",name:"budget",type:"number",step:"0.01",placeholder:"0.00"})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),(0,b.jsx)(g.Button,{type:"submit",disabled:n,children:n?"Creando...":"Crear Proyecto"})]})]})]})]})}a.s(["CreateProjectDialog",()=>l])},12188,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(40695);let e=[{value:"all",label:"Todos"},{value:"pending",label:"Pendiente"},{value:"in_progress",label:"En Progreso"},{value:"completed",label:"Completado"},{value:"delayed",label:"Retrasado"}],f=[{value:"all",label:"Todas"},{value:"low",label:"Baja"},{value:"medium",label:"Media"},{value:"high",label:"Alta"},{value:"urgent",label:"Urgente"}];function g({status:a,priority:g}){let h=(0,c.useRouter)(),i=(0,c.useSearchParams)();function j(a,b){let c=new URLSearchParams(i);"all"===b?c.delete(a):c.set(a,b),h.push(`/projects?${c.toString()}`)}return(0,b.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-sm font-medium",children:"Estado"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map(c=>(0,b.jsx)(d.Button,{variant:(a||"all"!==c.value)&&a!==c.value?"outline":"default",size:"sm",onClick:()=>j("status",c.value),children:c.label},c.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-sm font-medium",children:"Prioridad"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:f.map(a=>(0,b.jsx)(d.Button,{variant:(g||"all"!==a.value)&&g!==a.value?"outline":"default",size:"sm",onClick:()=>j("priority",a.value),children:a.label},a.value))})]})]})}a.s(["ProjectsFilters",()=>g])}];

//# sourceMappingURL=components_4cad7eaa._.js.map