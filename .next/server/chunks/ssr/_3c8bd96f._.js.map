{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/lucide-react/src/icons/loader-circle.ts","../../../../node_modules/lucide-react/src/icons/x.ts","../../../../node_modules/lucide-react/src/icons/check.ts","../../../../node_modules/lucide-react/src/icons/bell.ts","../../../../components/alerts/mark-as-read-button.tsx","../../../../components/alerts/delete-alert-button.tsx","../../../../components/alerts/generate-alerts-button.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('X', [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n]);\n\nexport default X;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('Check', [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]]);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Bell\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiA4YTYgNiAwIDAgMSAxMiAwYzAgNyAzIDkgMyA5SDNzMy0yIDMtOSIgLz4KICA8cGF0aCBkPSJNMTAuMyAyMWExLjk0IDEuOTQgMCAwIDAgMy40IDAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bell\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bell = createLucideIcon('Bell', [\n  ['path', { d: 'M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9', key: '1qo2s2' }],\n  ['path', { d: 'M10.3 21a1.94 1.94 0 0 0 3.4 0', key: 'qgo35s' }],\n]);\n\nexport default Bell;\n","\"use client\"\n\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { Button } from \"@/components/ui/button\"\nimport { Check } from \"lucide-react\"\n\nexport function MarkAsReadButton({ alertId }: { alertId: string }) {\n  const [isLoading, setIsLoading] = useState(false)\n  const router = useRouter()\n\n  async function handleMarkAsRead() {\n    setIsLoading(true)\n    const supabase = createClient()\n\n    const { error } = await supabase.from(\"alerts\").update({ is_read: true }).eq(\"id\", alertId)\n\n    setIsLoading(false)\n\n    if (!error) {\n      router.refresh()\n    }\n  }\n\n  return (\n    <Button variant=\"ghost\" size=\"icon\" onClick={handleMarkAsRead} disabled={isLoading} title=\"Marcar como leída\">\n      <Check className=\"h-4 w-4\" />\n    </Button>\n  )\n}\n","\"use client\"\n\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { Button } from \"@/components/ui/button\"\nimport { X } from \"lucide-react\"\n\nexport function DeleteAlertButton({ alertId }: { alertId: string }) {\n  const [isLoading, setIsLoading] = useState(false)\n  const router = useRouter()\n\n  async function handleDelete() {\n    setIsLoading(true)\n    const supabase = createClient()\n\n    const { error } = await supabase.from(\"alerts\").delete().eq(\"id\", alertId)\n\n    setIsLoading(false)\n\n    if (!error) {\n      router.refresh()\n    }\n  }\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={handleDelete}\n      disabled={isLoading}\n      title=\"Eliminar alerta\"\n      className=\"text-destructive hover:text-destructive\"\n    >\n      <X className=\"h-4 w-4\" />\n    </Button>\n  )\n}\n","\"use client\"\n\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { Button } from \"@/components/ui/button\"\nimport { Bell, Loader2 } from \"lucide-react\"\n\nexport function GenerateAlertsButton() {\n  const [isLoading, setIsLoading] = useState(false)\n  const router = useRouter()\n\n  async function generateAlerts() {\n    setIsLoading(true)\n    const supabase = createClient()\n\n    // Obtener proyectos activos\n    const { data: projects } = await supabase\n      .from(\"projects\")\n      .select(\"*\")\n      .in(\"status\", [\"planning\", \"in_progress\", \"review\"])\n\n    if (projects) {\n      const today = new Date()\n      today.setHours(0, 0, 0, 0)\n\n      for (const project of projects) {\n        const dueDate = new Date(project.due_date)\n        dueDate.setHours(0, 0, 0, 0)\n        const daysUntil = Math.ceil((dueDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24))\n\n        // Verificar si ya existe una alerta reciente para este proyecto\n        const { data: existingAlerts } = await supabase\n          .from(\"alerts\")\n          .select(\"*\")\n          .eq(\"project_id\", project.id)\n          .gte(\"created_at\", new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString())\n\n        if (existingAlerts && existingAlerts.length > 0) continue\n\n        // Generar alerta según el estado\n        let alertType: \"deadline_approaching\" | \"overdue\" | null = null\n        let message = \"\"\n\n        if (daysUntil < 0) {\n          alertType = \"overdue\"\n          message = `El proyecto \"${project.name}\" está vencido desde hace ${Math.abs(daysUntil)} días`\n        } else if (daysUntil <= 3) {\n          alertType = \"deadline_approaching\"\n          message = `El proyecto \"${project.name}\" vence en ${daysUntil} ${daysUntil === 1 ? \"día\" : \"días\"}`\n        }\n\n        if (alertType) {\n          await supabase.from(\"alerts\").insert({\n            project_id: project.id,\n            alert_type: alertType,\n            message,\n            is_read: false,\n          })\n        }\n      }\n    }\n\n    setIsLoading(false)\n    router.refresh()\n  }\n\n  return (\n    <Button onClick={generateAlerts} disabled={isLoading}>\n      {isLoading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Bell className=\"mr-2 h-4 w-4\" />}\n      {isLoading ? \"Generando...\" : \"Generar Alertas\"}\n    </Button>\n  )\n}\n"],"names":["module","exports","require","vendored","ReactJsxRuntime","ReactServerDOMTurbopackClient"],"mappings":"6CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEC,eAAe,+BCFxCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEE,6BAA6B,yBCWhD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAe,CAAf,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAe,OAAA,EAAiB,cAAgB,CAAA,CAAA,AACpD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAA+B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAC7D,CAAA,CAAA,qDCFK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAI,WAAA,OAAA,EAAiB,GAAK,CAAA,CAAA,AAC9B,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAC3C,AAD2C,CAC1C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAC5C,CAAA,CAAA,+CCHD,CAAM,CAAA,CAAA,CAAA,CAAA,CAAQ,AAAR,CAAQ,AAAR,CAAA,CAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAiB,OAAS,CAAA,CAAC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAE,CAAA,CAAA,AAAG,iBAAmB,CAAA,CAAA,CAAA,CAAA,CAAK,CAAS,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAC,CAAC,CAAC,CAAA,CAAA,+CCArF,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAO,CAAP,UAAO,OAAA,EAAiB,MAAQ,CAAA,CAAA,AACpC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAA6C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AAC1E,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAE,AAAF,EAAK,CAAkC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAChE,CAAA,CAAA,kECdD,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,wBAGO,SAAS,EAAiB,SAAE,CAAO,CAAuB,EAC/D,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,EAAS,CAAA,EAAA,EAAA,SAAS,AAAT,IAEf,eAAe,IACb,GAAa,GACb,IAAM,EAAW,CAAA,EAAA,EAAA,YAAA,AAAY,IAEvB,CAAE,OAAK,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,UAAU,MAAM,CAAC,CAAE,SAAS,CAAK,GAAG,EAAE,CAAC,KAAM,GAEnF,GAAa,GAET,AAAC,GACH,EAAO,EADG,KACI,EAElB,CAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,QAAQ,KAAK,OAAO,QAAS,EAAkB,SAAU,EAAW,MAAM,6BACxF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CAAC,UAAU,aAGvB,+EC5BA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,wBAGO,SAAS,EAAkB,SAAE,CAAO,CAAuB,EAChE,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAExB,eAAe,IACb,GAAa,GACb,IAAM,EAAW,CAAA,EAAA,EAAA,YAAA,AAAY,IAEvB,OAAE,CAAK,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,UAAU,MAAM,GAAG,EAAE,CAAC,KAAM,GAElE,GAAa,GAET,AAAC,GACH,EAAO,EADG,KACI,EAElB,CAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,EACT,SAAU,EACV,MAAM,kBACN,UAAU,mDAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAC,CAAA,CAAC,UAAU,aAGnB,iFCnCA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAEO,SAAS,IACd,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAExB,eAAe,IACb,EAAa,IACb,IAAM,EAAW,CAAA,EAAA,EAAA,YAAA,AAAY,IAGvB,CAAE,KAAM,CAAQ,CAAE,CAAG,MAAM,EAC9B,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,SAAU,CAAC,WAAY,cAAe,SAAS,EAErD,GAAI,EAAU,CACZ,IAAM,EAAQ,IAAI,KAGlB,IAAK,IAAM,KAFX,EAAM,QAAQ,CAAC,EAAG,EAAG,EAAG,GAEF,GAAU,CAC9B,IAAM,EAAU,IAAI,KAAK,EAAQ,QAAQ,EACzC,EAAQ,QAAQ,CAAC,EAAG,EAAG,EAAG,GAC1B,IAAM,EAAY,KAAK,IAAI,CAAC,CAAC,EAAQ,OAAO,GAAK,EAAM,OAAO,EAAA,CAAE,CAAK,GAAD,IAAQ,AAGtE,CAAE,IAHyE,CAGnE,CAAc,CAAE,CAAG,CAHqD,EAAE,GAGjD,EACpC,IAAI,CAAC,UACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAc,EAAQ,EAAE,EAC3B,GAAG,CAAC,aAAc,IAAI,KAAK,KAAK,GAAG,GAAK,KAAK,EAAgB,GAAX,KAAK,GAAiB,IAE3E,GAAI,GAAkB,EAAe,MAAM,CAAG,EAAG,SAGjD,IAAI,EAAuD,KACvD,EAAU,GAEV,EAAY,GAAG,AACjB,EAAY,UACZ,EAAU,CAAC,aAAa,EAAE,EAAQ,IAAI,CAAC,6BAA0B,EAAE,KAAK,GAAG,CAAC,GAAW,QAAK,CAAC,EACpF,GAAa,GAAG,CACzB,EAAY,uBACZ,EAAU,CAAC,aAAa,EAAE,EAAQ,IAAI,CAAC,WAAW,EAAE,EAAU,CAAC,EAAE,AAAc,MAAI,MAAQ,OAAA,CAAQ,EAGjG,GACF,MAAM,EADO,AACE,IAAI,CAAC,UAAU,MAAM,CAAC,CACnC,WAAY,EAAQ,EAAE,CACtB,WAAY,EACZ,UACA,SAAS,CACX,EAEJ,CACF,CAEA,GAAa,GACb,EAAO,OAAO,EAChB,CAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,EAAgB,SAAU,YACxC,EAAY,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,8BAAiC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBAChF,EAAY,eAAiB,oBAGpC","ignoreList":[0,1,2,5]}