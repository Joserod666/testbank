module.exports=[87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},30553,a=>{"use strict";var b=a.i(72131),c=a.i(35112),d=a.i(11011),e=a.i(87924),f=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((a,c)=>{let f=b.forwardRef((a,b)=>{let{asChild:f,...g}=a,h=f?d.Slot:c;return(0,e.jsx)(h,{...g,ref:b})});return f.displayName=`Primitive.${c}`,{...a,[c]:f}},{});function g(a,b){a&&c.flushSync(()=>a.dispatchEvent(b))}a.s(["Primitive",()=>f,"dispatchDiscreteCustomEvent",()=>g])},5522,17171,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d],5522);var e=a.i(72131),f=a.i(30553),g=e.forwardRef((a,c)=>(0,b.jsx)(f.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));function h({className:a,...d}){return(0,b.jsx)(g,{"data-slot":"label",className:(0,c.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...d})}g.displayName="Label",a.s(["Label",()=>h],17171)},62213,a=>{"use strict";let b=(0,a.i(70106).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["default",()=>b])},11519,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(69240),f=a.i(65733),g=a.i(40695),h=a.i(5522),i=a.i(17171),j=a.i(46893),k=a.i(99464);function l({client:a}){let[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),p=(0,d.useRouter)();async function q(b){b.preventDefault(),o(!0);let c=new FormData(b.currentTarget),d=(0,e.createClient)(),{error:f}=await d.from("clients").update({name:c.get("name"),email:c.get("email")||null,phone:c.get("phone")||null,company:c.get("company")||null,notes:c.get("notes")||null}).eq("id",a.id);o(!1),f?(console.error("Error al actualizar cliente:",f),alert(`Error al actualizar cliente: ${f.message}`)):(m(!1),p.refresh())}return(0,b.jsxs)(f.Dialog,{open:l,onOpenChange:m,children:[(0,b.jsx)(f.DialogTrigger,{asChild:!0,children:(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(k.Pencil,{className:"h-4 w-4"})})}),(0,b.jsxs)(f.DialogContent,{className:"sm:max-w-[500px]",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsx)(f.DialogTitle,{children:"Editar Cliente"}),(0,b.jsx)(f.DialogDescription,{children:"Actualiza la información del cliente"})]}),(0,b.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"name",children:"Nombre *"}),(0,b.jsx)(h.Input,{id:"name",name:"name",required:!0,defaultValue:a.name,placeholder:"Nombre del cliente"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"company",children:"Empresa"}),(0,b.jsx)(h.Input,{id:"company",name:"company",defaultValue:a.company||"",placeholder:"Nombre de la empresa"})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(h.Input,{id:"email",name:"email",type:"email",defaultValue:a.email||"",placeholder:"email@ejemplo.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"phone",children:"Teléfono"}),(0,b.jsx)(h.Input,{id:"phone",name:"phone",type:"tel",defaultValue:a.phone||"",placeholder:"+1 (555) 000-0000"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"notes",children:"Notas"}),(0,b.jsx)(j.Textarea,{id:"notes",name:"notes",defaultValue:a.notes||"",placeholder:"Notas adicionales",rows:3})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),(0,b.jsx)(g.Button,{type:"submit",disabled:n,children:n?"Guardando...":"Guardar Cambios"})]})]})]})]})}a.s(["EditClientDialog",()=>l])},23217,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(69240),f=a.i(5094),g=a.i(40695),h=a.i(81560);function i({clientId:a,clientName:i}){let[j,k]=(0,c.useState)(!1),l=(0,d.useRouter)();async function m(){k(!0);let b=(0,e.createClient)(),{error:c}=await b.from("clients").delete().eq("id",a);k(!1),c?(console.error("Error al eliminar cliente:",c),alert(`Error al eliminar cliente: ${c.message}`)):l.refresh()}return(0,b.jsxs)(f.AlertDialog,{children:[(0,b.jsx)(f.AlertDialogTrigger,{asChild:!0,children:(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",children:(0,b.jsx)(h.Trash2,{className:"h-4 w-4"})})}),(0,b.jsxs)(f.AlertDialogContent,{children:[(0,b.jsxs)(f.AlertDialogHeader,{children:[(0,b.jsx)(f.AlertDialogTitle,{children:"¿Estás seguro?"}),(0,b.jsxs)(f.AlertDialogDescription,{children:["Esta acción eliminará permanentemente al cliente ",(0,b.jsx)("strong",{children:i})," y todos sus proyectos asociados. Esta acción no se puede deshacer."]})]}),(0,b.jsxs)(f.AlertDialogFooter,{children:[(0,b.jsx)(f.AlertDialogCancel,{children:"Cancelar"}),(0,b.jsx)(f.AlertDialogAction,{onClick:m,disabled:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:j?"Eliminando...":"Eliminar"})]})]})]})}a.s(["DeleteClientDialog",()=>i])},39182,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(69240),f=a.i(65733),g=a.i(40695),h=a.i(5522),i=a.i(17171),j=a.i(46893);function k({children:a}){let[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),o=(0,d.useRouter)();async function p(a){a.preventDefault(),n(!0);let b=new FormData(a.currentTarget),c=(0,e.createClient)(),{error:d}=await c.from("clients").insert({name:b.get("name"),email:b.get("email")||null,phone:b.get("phone")||null,company:b.get("company")||null,notes:b.get("notes")||null});n(!1),d?(console.error("Error al crear cliente:",d),alert(`Error al crear cliente: ${d.message}`)):(l(!1),o.refresh())}return(0,b.jsxs)(f.Dialog,{open:k,onOpenChange:l,children:[(0,b.jsx)(f.DialogTrigger,{asChild:!0,children:a}),(0,b.jsxs)(f.DialogContent,{className:"sm:max-w-[500px]",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsx)(f.DialogTitle,{children:"Nuevo Cliente"}),(0,b.jsx)(f.DialogDescription,{children:"Agrega un nuevo cliente a tu cartera"})]}),(0,b.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"name",children:"Nombre *"}),(0,b.jsx)(h.Input,{id:"name",name:"name",required:!0,placeholder:"Nombre del cliente"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"company",children:"Empresa"}),(0,b.jsx)(h.Input,{id:"company",name:"company",placeholder:"Nombre de la empresa"})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(h.Input,{id:"email",name:"email",type:"email",placeholder:"email@ejemplo.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"phone",children:"Teléfono"}),(0,b.jsx)(h.Input,{id:"phone",name:"phone",type:"tel",placeholder:"+1 (555) 000-0000"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"notes",children:"Notas"}),(0,b.jsx)(j.Textarea,{id:"notes",name:"notes",placeholder:"Notas adicionales sobre el cliente",rows:3})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),(0,b.jsx)(g.Button,{type:"submit",disabled:m,children:m?"Creando...":"Crear Cliente"})]})]})]})]})}a.s(["CreateClientDialog",()=>k])}];

//# sourceMappingURL=_27c72315._.js.map