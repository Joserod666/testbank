module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},95044,a=>{a.n(a.i(52425))},84951,a=>{a.n(a.i(1022))},70864,a=>{a.n(a.i(33290))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},28407,68131,a=>{"use strict";var b=a.i(1269);let c=(0,b.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>c],28407);let d=(0,b.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>d],68131)},21679,a=>{"use strict";let b=(0,a.i(1269).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],21679)},56603,a=>{"use strict";let b=(0,a.i(1269).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],56603)},82604,a=>{"use strict";let b=(0,a.i(1269).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],82604)},85023,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call MarkAsReadButton() from the server but MarkAsReadButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/alerts/mark-as-read-button.tsx <module evaluation>","MarkAsReadButton");a.s(["MarkAsReadButton",0,b])},8445,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call MarkAsReadButton() from the server but MarkAsReadButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/alerts/mark-as-read-button.tsx","MarkAsReadButton");a.s(["MarkAsReadButton",0,b])},1811,a=>{"use strict";a.i(85023);var b=a.i(8445);a.n(b)},53760,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DeleteAlertButton() from the server but DeleteAlertButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/alerts/delete-alert-button.tsx <module evaluation>","DeleteAlertButton");a.s(["DeleteAlertButton",0,b])},10046,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DeleteAlertButton() from the server but DeleteAlertButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/alerts/delete-alert-button.tsx","DeleteAlertButton");a.s(["DeleteAlertButton",0,b])},91060,a=>{"use strict";a.i(53760);var b=a.i(10046);a.n(b)},8808,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call GenerateAlertsButton() from the server but GenerateAlertsButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/alerts/generate-alerts-button.tsx <module evaluation>","GenerateAlertsButton");a.s(["GenerateAlertsButton",0,b])},8482,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call GenerateAlertsButton() from the server but GenerateAlertsButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/alerts/generate-alerts-button.tsx","GenerateAlertsButton");a.s(["GenerateAlertsButton",0,b])},15583,a=>{"use strict";a.i(8808);var b=a.i(8482);a.n(b)},77962,a=>{"use strict";var b=a.i(7997),c=a.i(717),d=a.i(98310),e=a.i(29171),f=a.i(21679),g=a.i(56603),h=a.i(28407),i=a.i(68131);let j=(0,a.i(1269).default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var k=a.i(1811),l=a.i(91060);let m={deadline_approaching:g.Clock,overdue:f.AlertCircle,status_change:i.Info,custom:h.AlertTriangle},n={deadline_approaching:"text-amber-500 bg-amber-50 border-amber-200",overdue:"text-red-500 bg-red-50 border-red-200",status_change:"text-blue-500 bg-blue-50 border-blue-200",custom:"text-purple-500 bg-purple-50 border-purple-200"},o={deadline_approaching:"Vencimiento Próximo",overdue:"Vencido",status_change:"Cambio de Estado",custom:"Personalizado"};async function p(){let a=await (0,d.createClient)(),{data:c}=await a.from("alerts").select("*, projects(name, status, clients(name))").order("created_at",{ascending:!1});return c&&0!==c.length?(0,b.jsx)("div",{className:"space-y-3",children:c.map(a=>{let c=m[a.alert_type];return(0,b.jsx)(e.Card,{className:`border-l-4 transition-colors ${a.is_read?"opacity-60":""} ${n[a.alert_type]}`,children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:`flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg ${n[a.alert_type]}`,children:(0,b.jsx)(c,{className:`h-5 w-5 ${a.is_read?"opacity-50":""}`})}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h4",{className:"font-medium text-sm",children:o[a.alert_type]}),!a.is_read&&(0,b.jsx)("span",{className:"inline-flex h-2 w-2 rounded-full bg-primary animate-pulse"})]}),(0,b.jsx)("p",{className:`text-sm ${a.is_read?"text-muted-foreground":"text-foreground"}`,children:a.message})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[!a.is_read&&(0,b.jsx)(k.MarkAsReadButton,{alertId:a.id}),(0,b.jsx)(l.DeleteAlertButton,{alertId:a.id})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,b.jsxs)("span",{children:["Proyecto: ",a.projects.name]}),(0,b.jsxs)("span",{children:["Cliente: ",a.projects.clients.name]}),(0,b.jsx)("span",{children:new Date(a.created_at).toLocaleDateString("es-ES",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})})},a.id)})}):(0,b.jsx)(e.Card,{children:(0,b.jsxs)(e.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(j,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-lg font-medium mb-2",children:"No hay alertas"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Las alertas aparecerán aquí cuando haya proyectos próximos a vencer"})]})})}var q=a.i(82604);async function r(){let a=await (0,d.createClient)(),[{count:c},{count:g},{count:h}]=await Promise.all([a.from("alerts").select("*",{count:"exact",head:!0}),a.from("alerts").select("*",{count:"exact",head:!0}).eq("is_read",!1),a.from("alerts").select("*",{count:"exact",head:!0}).eq("alert_type","overdue").eq("is_read",!1)]),i=[{title:"Total Alertas",value:c||0,icon:j,description:"Todas las alertas"},{title:"Sin Leer",value:g||0,icon:f.AlertCircle,description:"Alertas pendientes"},{title:"Proyectos Vencidos",value:h||0,icon:q.CheckCircle,description:"Requieren atención"}];return(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:i.map(a=>(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:a.title}),(0,b.jsx)(a.icon,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.value}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},a.title))})}var s=a.i(15583),t=a.i(77357),u=a.i(95936);function v(){return(0,b.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,b.jsx)("header",{className:"border-b bg-background",children:(0,b.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-primary-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,b.jsx)("h1",{className:"text-xl font-semibold",children:"Freelance Manager"})]}),(0,b.jsxs)("nav",{className:"flex items-center gap-6",children:[(0,b.jsx)(u.default,{href:"/",className:"text-sm text-muted-foreground hover:text-foreground",children:"Dashboard"}),(0,b.jsx)(u.default,{href:"/clients",className:"text-sm text-muted-foreground hover:text-foreground",children:"Clientes"}),(0,b.jsx)(u.default,{href:"/projects",className:"text-sm text-muted-foreground hover:text-foreground",children:"Proyectos"}),(0,b.jsx)(u.default,{href:"/timeline",className:"text-sm text-muted-foreground hover:text-foreground",children:"Timeline"})]})]})}),(0,b.jsxs)("main",{className:"container flex-1 px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Alertas y Notificaciones"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Gestiona tus recordatorios y notificaciones de proyectos"})]}),(0,b.jsx)(s.GenerateAlertsButton,{})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(w,{}),children:(0,b.jsx)(r,{})}),(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(x,{}),children:(0,b.jsx)(p,{})})]})]})]})}function w(){return(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:[1,2,3].map(a=>(0,b.jsx)(t.Skeleton,{className:"h-24"},a))})}function x(){return(0,b.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(a=>(0,b.jsx)(t.Skeleton,{className:"h-24"},a))})}a.s(["default",()=>v],77962)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__272491d8._.js.map